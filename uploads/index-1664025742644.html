<html>
  <head></head>
  <body>
    <div>
      <button id="downloadBtn">download</button>
    </div>

    <script>
       const downloadFile = ()=>{
         console.log("download file called")
         return fetch("http://localhost:8080/files/1", { responseType: 'blob', mode: 'no-cors' }).then((res) => {
           const header = res.headers['content-disposition'];
           const fileName = header.match(/filename="(.+)"/)[1];

           const path = window.URL.createObjectURL(new Blob([res.data]));
           const link = document.createElement('a');
           link.href = path;
           link.setAttribute('download', fileName);
           link.target = '_blank';
           document.body.appendChild(link);
           link.click();
           link.remove();
         });
       }

       document.getElementById("downloadBtn").addEventListener("click", downloadFile);
    </script>
  </body>
</html>
